<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luminara | Discover Your Perfect Color Palette</title>
    <!-- Load Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter font --><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Load Lucide Icons --><script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            /* Luminara Primary Palette */
            --lavender-mist: #EADFF7;
            --warm-sand: #F6EFE7;
            --dusty-rose: #F2D7DA;
            --sage-green: #C7D8C4;
            --soft-charcoal: #33303A;
            --shadow-color: rgba(22, 22, 22, 0.1);
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--warm-sand);
            color: var(--soft-charcoal);
            transition: background-color 0.3s, color 0.3s;
        }
        .card-bg {
            background-color: white;
            box-shadow: 0 10px 30px var(--shadow-color);
            border-radius: 30px; /* Custom rounded corners */
        }
        /* Custom Tailwind Configuration */
        .glass {
            background-color: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .page-section {
            padding-top: 4rem;
            padding-bottom: 4rem;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.7s ease-out, transform 0.7s ease-out;
        }
        .page-section.active {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'luminara-lavender': 'var(--lavender-mist)',
                        'luminara-sand': 'var(--warm-sand)',
                        'luminara-rose': 'var(--dusty-rose)',
                        'luminara-sage': 'var(--sage-green)',
                        'luminara-charcoal': 'var(--soft-charcoal)',
                        'primary': 'var(--lavender-mist)',
                        'secondary': 'var(--soft-charcoal)',
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen">

    <div id="app-container" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12">

        <!-- NAV BAR --><nav class="sticky top-0 z-50 py-4 glass backdrop-blur-md rounded-b-[20px] mb-8 shadow-sm">
            <div class="flex justify-between items-center">
                <div class="text-2xl font-bold text-secondary tracking-tight">Luminara ðŸŒ¸</div>
                <div class="hidden md:flex space-x-6 text-sm font-medium">
                    <a href="#home" class="hover:text-luminara-rose transition duration-150" onclick="showView('home')">Home</a>
                    <a href="#analysis" class="hover:text-luminara-rose transition duration-150" onclick="showView('upload')">Analysis</a>
                    <a href="#outfits" class="hover:text-luminara-rose transition duration-150" onclick="alertCustom('Simulasi: Akan menampilkan hasil setelah analisis.')">Outfits</a>
                    <a href="#culture" class="hover:text-luminara-rose transition duration-150" onclick="alertCustom('Simulasi: Akan menampilkan hasil setelah analisis.')">Culture</a>
                    <a href="#about" class="hover:text-luminara-rose transition duration-150" onclick="showView('about')">About</a>
                    <a href="#contact" class="hover:text-luminara-rose transition duration-150" onclick="showView('contact')">Contact</a>
                </div>
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-luminara-sand transition duration-150" aria-label="Toggle dark mode">
                    <i data-lucide="sun" class="w-5 h-5 text-secondary"></i>
                </button>
            </div>
            <!-- Mobile Menu (Hidden by default) --><div id="mobile-menu" class="md:hidden mt-4 space-y-2 text-center text-sm font-medium hidden">
                <a href="#home" class="block py-2 hover:bg-luminara-sand rounded-lg" onclick="showView('home')">Home</a>
                <a href="#analysis" class="block py-2 hover:bg-luminara-sand rounded-lg" onclick="showView('upload')">Analysis</a>
                <a href="#outfits" class="block py-2 hover:bg-luminara-sand rounded-lg" onclick="alertCustom('Simulasi: Akan menampilkan hasil setelah analisis.')">Outfits</a>
                <a href="#culture" class="block py-2 hover:bg-luminara-sand rounded-lg" onclick="alertCustom('Simulasi: Akan menampilkan hasil setelah analisis.')">Culture</a>
                <a href="#about" class="block py-2 hover:bg-luminara-sand rounded-lg" onclick="showView('about')">About</a>
                <a href="#contact" class="block py-2 hover:bg-luminara-sand rounded-lg" onclick="showView('contact')">Contact</a>
            </div>
        </nav>

        <!-- Custom Alert/Modal Container --><div id="custom-modal" class="fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm z-[99] items-center justify-center hidden">
            <div class="card-bg p-8 max-w-sm w-full mx-4 text-center">
                <p id="modal-message" class="text-lg font-medium mb-4 text-secondary">Pesan Modal</p>
                <button onclick="document.getElementById('custom-modal').classList.add('hidden')" class="bg-luminara-lavender hover:bg-luminara-rose text-secondary font-semibold py-2 px-4 rounded-full transition duration-300 shadow-md">Tutup</button>
            </div>
        </div>

        <!-- 1. HOME / LANDING PAGE --><section id="home-view" class="page-section active">
            <div class="text-center pt-16 pb-20 card-bg p-8 sm:p-12">
                <h1 class="text-4xl sm:text-6xl font-extrabold text-secondary mb-4 tracking-tighter">
                    Discover Your Perfect Color Palette with Luminara ðŸŒ¸
                </h1>
                <p class="text-xl sm:text-2xl text-secondary/80 mb-8 max-w-3xl mx-auto font-light">
                    Upload or capture your photo, and let AI reveal the tones and styles that make you shine.
                </p>

                <!-- INSTRUCTION --><p class="text-lg sm:text-xl font-semibold text-secondary mb-8 bg-luminara-rose/30 p-4 rounded-xl border border-luminara-rose/50 inline-block">
                    You can begin your color analysis by either uploading a photo or using your camera directly.
                </p>

                <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6 mb-4">
                    <button onclick="alertCustom('Simulasi: Membutuhkan izin kamera. Mohon gunakan tombol Upload untuk simulasi.')"
                            class="flex items-center justify-center px-8 py-3 bg-secondary text-white font-bold rounded-[20px] hover:bg-secondary/90 transition duration-300 shadow-lg shadow-secondary/20 transform hover:scale-[1.02]">
                        <i data-lucide="camera" class="w-5 h-5 mr-2"></i> Use Camera Now
                    </button>
                    <button onclick="document.getElementById('photo-upload-input').click();"
                            class="flex items-center justify-center px-8 py-3 bg-luminara-lavender text-secondary font-bold rounded-[20px] hover:bg-luminara-rose border-2 border-luminara-lavender transition duration-300 shadow-md shadow-luminara-lavender/20 transform hover:scale-[1.02]">
                        <i data-lucide="upload" class="w-5 h-5 mr-2"></i> Upload a Photo
                    </button>
                </div>
                <p class="text-sm text-secondary/60 mt-2 italic">
                    Use camera for instant results â€” upload for higher-res images.
                </p>
                <input type="file" id="photo-upload-input" accept="image/jpeg, image/png" class="hidden" onchange="handlePhotoUpload(event)">

                <p class="text-xs text-secondary/50 mt-8">
                    Your photos are processed securely and never stored without permission.
                </p>
            </div>

            <!-- Quick Features Strip --><div class="mt-20">
                <h2 class="text-3xl font-bold text-center mb-10 text-secondary">Why Luminara?</h2>
                <div class="grid grid-cols-2 md:grid-cols-5 gap-6">
                    <div class="card-bg p-6 text-center transition duration-300 hover:shadow-xl hover:scale-[1.01] flex flex-col items-center justify-center">
                        <i data-lucide="scan" class="w-8 h-8 text-luminara-rose mb-3"></i>
                        <p class="font-semibold text-sm">Real-time Camera Analysis</p>
                    </div>
                    <div class="card-bg p-6 text-center transition duration-300 hover:shadow-xl hover:scale-[1.01] flex flex-col items-center justify-center">
                        <i data-lucide="image" class="w-8 h-8 text-luminara-rose mb-3"></i>
                        <p class="font-semibold text-sm">Upload Photo</p>
                    </div>
                    <div class="card-bg p-6 text-center transition duration-300 hover:shadow-xl hover:scale-[1.01] flex flex-col items-center justify-center">
                        <i data-lucide="palette" class="w-8 h-8 text-luminara-rose mb-3"></i>
                        <p class="font-semibold text-sm">Gender-based Palettes</p>
                    </div>
                    <div class="card-bg p-6 text-center transition duration-300 hover:shadow-xl hover:scale-[1.01] flex flex-col items-center justify-center">
                        <i data-lucide="landmark" class="w-8 h-8 text-luminara-rose mb-3"></i>
                        <p class="font-semibold text-sm">Cultural Outfit Images</p>
                    </div>
                    <div class="card-bg p-6 text-center transition duration-300 hover:shadow-xl hover:scale-[1.01] flex flex-col items-center justify-center">
                        <i data-lucide="download" class="w-8 h-8 text-luminara-rose mb-3"></i>
                        <p class="font-semibold text-sm">Download Palette</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. LOADING STATE --><section id="loading-view" class="page-section hidden text-center">
            <div class="card-bg p-12 max-w-lg mx-auto">
                <div class="animate-spin mb-6 mx-auto w-12 h-12 border-4 border-t-4 border-t-luminara-rose border-luminara-lavender rounded-full"></div>
                <p class="text-xl font-semibold mb-2">Analyzing your skin tone...</p>
                <p class="text-secondary/70">detecting undertone and color family.</p>
            </div>
        </section>

        <!-- 3. AI RESULTS PAGE --><section id="results-view" class="page-section hidden">
            <div class="space-y-16">
                <!-- RESULTS CARD --><div class="card-bg p-6 sm:p-10 max-w-4xl mx-auto">
                    <div class="flex flex-col md:flex-row gap-8 items-start">
                        <!-- Left: Avatar & Key Data --><div class="w-full md:w-1/3 text-center">
                            <img id="result-avatar" src="https://placehold.co/320x320/EADFF7/33303A?text=Your+Photo" alt="User Avatar" class="w-32 h-32 sm:w-40 sm:h-40 object-cover rounded-full mx-auto border-4 border-luminara-rose/50 shadow-lg mb-4">
                            
                            <p class="text-sm text-secondary/70 mb-2">Detected As:</p>
                            <div class="flex justify-center items-center mb-4">
                                <span id="result-gender" class="text-lg font-bold mr-2">Female</span>
                                <button onclick="alertCustom('Simulasi: Gender toggle berfungsi!')" class="text-xs text-luminara-rose hover:underline">(Change)</button>
                            </div>
                            
                            <div class="space-y-2 text-left w-max mx-auto">
                                <p class="text-base"><span class="font-semibold">Seasonal:</span> <span id="result-seasonal" class="text-luminara-charcoal">Spring</span></p>
                                <p class="text-base"><span class="font-semibold">Confidence:</span> <span id="result-confidence" class="text-luminara-sage">91%</span></p>
                            </div>

                        </div>
                        <!-- Right: Explanation & Palette --><div class="w-full md:w-2/3">
                            <h2 class="text-3xl font-extrabold text-secondary mb-4 border-b pb-2 border-luminara-lavender">
                                <span id="result-undertone" class="text-luminara-rose">Warm</span> Undertone Detected
                            </h2>

                            <!-- Aesthetic Explanation --><p id="result-explanation" class="text-lg mb-6 leading-relaxed italic text-secondary/90">
                                Placeholder: Your skin glows with gentle warmth â€” think honeyed peach and soft coral. These hues enhance your natural radiance and feel effortlessly luminous.
                            </p>

                            <!-- Color Palette --><h3 class="text-xl font-semibold mb-3">
                                <span id="palette-label">Feminine Palette</span>
                            </h3>
                            <div id="color-palette-swatches" class="grid grid-cols-4 sm:grid-cols-4 lg:grid-cols-4 gap-4">
                                <!-- Swatches will be injected here --></div>

                            <!-- CTA Buttons --><div class="flex flex-wrap gap-4 mt-8">
                                <button onclick="showView('upload')" class="px-5 py-2 bg-luminara-lavender text-secondary font-semibold rounded-full hover:bg-luminara-rose transition duration-300 text-sm">
                                    <i data-lucide="rotate-ccw" class="w-4 h-4 inline-block mr-1"></i> Retake Photo
                                </button>
                                <button onclick="alertCustom('Simulasi: Palette PNG/CSS/ASE berhasil diunduh!')" class="px-5 py-2 bg-luminara-sage text-white font-semibold rounded-full hover:bg-luminara-sage/80 transition duration-300 text-sm">
                                    <i data-lucide="download" class="w-4 h-4 inline-block mr-1"></i> Download Palette
                                </button>
                                <button onclick="alertCustom('Simulasi: Hasil telah dibagikan ke sosial media!')" class="px-5 py-2 border border-secondary/20 text-secondary font-semibold rounded-full hover:bg-luminara-sand transition duration-300 text-sm">
                                    <i data-lucide="share2" class="w-4 h-4 inline-block mr-1"></i> Share Result
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FASHION & OUTFIT RECOMMENDATIONS --><h2 class="text-3xl font-bold text-center mb-10 text-secondary">Fashion That Fits You</h2>
                <div id="fashion-outfits" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Outfit Cards will be injected here --></div>

                <!-- CULTURAL FASHION RECOMMENDATIONS --><h2 class="text-3xl font-bold text-center pt-8 mb-10 text-secondary">Cultural Styles That Match Your Tone</h2>
                <div id="cultural-outfits" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Cultural Cards will be injected here --></div>

                <!-- SKINCARE & COLOR CARE TIPS --><h2 class="text-3xl font-bold text-center pt-8 mb-10 text-secondary">Skincare & Color Care Tips</h2>
                <div id="tips-list" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                    <!-- Tips will be injected here --></div>
            </div>
        </section>

        <!-- 4. ABOUT & CONTACT VIEW --><section id="about-view" class="page-section hidden text-center pt-20">
            <div class="card-bg p-10 max-w-3xl mx-auto">
                <h2 class="text-4xl font-extrabold text-secondary mb-6">About Luminara</h2>
                <p class="text-lg leading-relaxed text-secondary/90">
                    Luminara combines artificial intelligence with personal beauty discovery. We help people understand their natural tones and express themselves confidently through both modern and traditional fashion. Our mission is to illuminate your personal style journey.
                </p>
            </div>
        </section>

        <section id="contact-view" class="page-section hidden text-center pt-20">
            <div class="card-bg p-10 max-w-3xl mx-auto">
                <h2 class="text-4xl font-extrabold text-secondary mb-6">Contact Us</h2>
                <p class="text-lg leading-relaxed text-secondary/90">
                    For support or business inquiries, please reach out to us at:
                </p>
                <a href="mailto:hello@luminara.ai" class="text-luminara-rose font-bold text-xl hover:underline">hello@luminara.ai</a>
            </div>
        </section>

        <!-- FOOTER --><footer class="text-center mt-20 pt-8 border-t border-secondary/10">
            <p class="text-sm text-secondary/60">&copy; 2025 Luminara. All rights reserved.</p>
        </footer>

    </div>

    <script>
        // Data Palettes and Explanations for Simulation
        const AI_DATA = {
            'W-F': { // Warm - Female
                undertone: 'Warm',
                gender: 'Female',
                seasonal: 'Spring',
                paletteLabel: 'Feminine Warm Palette',
                explanation: "Your skin glows with gentle warmth â€” think honeyed peach and soft coral. These hues enhance your natural radiance and feel effortlessly luminous.",
                palette: [
                    { name: 'Peach Blush', hex: '#F7C6B4' }, { name: 'Rose Gold', hex: '#D4A6A0' },
                    { name: 'Warm Sand', hex: '#F6EFE7' }, { name: 'Coral Pink', hex: '#FF7F66' },
                    { name: 'Honey', hex: '#E4A76A' }, { name: 'Soft Terracotta', hex: '#D9825E' },
                ],
                outfits: [
                    { name: 'Soft Linen Top', color: '#F6EFE7', desc: 'Brings out the gentle glow of warm undertones and adds a natural, sunlit softness to portraits.' },
                    { name: 'Mustard Silk Dress', color: '#C58F3F', desc: 'The rich gold tones complement your warmth, perfect for evening events.' },
                    { name: 'Olive Green Jacket', color: '#7A8450', desc: 'A grounded color that offers a sophisticated contrast without washing out your natural radiance.' },
                ],
                cultural: [
                    { name: 'Balinese Kebaya', color: '#E4A76A', desc: 'Golden embroidery and warm lace harmonize with your glow â€” the result is regal, warm, and luminous.' },
                    { name: 'Batik Sogan (Coklat)', color: '#A65B3C', desc: 'Motif Sogan dengan warna cokelat dan kuning emas alami memperkuat kesan klasik dan anggun pada kulit hangat.' },
                ]
            },
            'C-M': { // Cool - Male
                undertone: 'Cool',
                gender: 'Male',
                seasonal: 'Winter',
                paletteLabel: 'Masculine Cool Palette',
                explanation: "Cool clarity suits you â€” navy, steel grey, and deep slate sharpen features with a clean, modern edge.",
                palette: [
                    { name: 'Navy Blue', hex: '#112B44' }, { name: 'Steel Grey', hex: '#69707A' },
                    { name: 'Deep Burgundy', hex: '#5A2B3A' }, { name: 'Slate Blue', hex: '#3D5A80' },
                    { name: 'Midnight Purple', hex: '#2E2447' }, { name: 'Frosted Charcoal', hex: '#444053' },
                ],
                outfits: [
                    { name: 'Navy Suit', color: '#112B44', desc: 'The depth of navy provides a sharp contrast, lending an air of professionalism and cool sophistication.' },
                    { name: 'Steel Grey Sweater', color: '#69707A', desc: 'A cool neutral that grounds your look while enhancing the clarity of your features.' },
                    { name: 'White Oxford Shirt', color: '#FFFFFF', desc: 'Crisp, bright white is a signature of cool tones, offering ultimate sharpness.' },
                ],
                cultural: [
                    { name: 'Minangkabau Songket', color: '#2E2447', desc: 'Violet threads and cool metallic accents create a royal contrast that complements cool undertones with cultural pride.' },
                    { name: 'Baju Bodo Makassar', color: '#BFD8FF', desc: 'Baju Bodo berwarna biru atau hijau mint menonjolkan keanggunan, cocok dengan nada kulit yang sejuk.' },
                ]
            },
            'N-F': { // Neutral - Female
                undertone: 'Neutral',
                gender: 'Female',
                seasonal: 'Summer',
                paletteLabel: 'Universal Feminine Palette',
                explanation: "A graceful balance â€” neither too warm nor cool. Muted taupes, blush-beiges, and soft mauves let your natural tone sing without overpowering it.",
                palette: [
                    { name: 'Blush Beige', hex: '#E7D7CE' }, { name: 'Soft Taupe', hex: '#BBAAA2' },
                    { name: 'Warm Grey', hex: '#CFC7C1' }, { name: 'Tea Rose', hex: '#E8CFC8' },
                    { name: 'Nude Blossom', hex: '#D9B8AF' }, { name: 'Mauve Neutral', hex: '#BFA6A0' },
                ],
                outfits: [
                    { name: 'Soft Beige Linen Top', color: '#E7D7CE', desc: 'Brings out the gentle glow of warm undertones and adds a natural, sunlit softness to portraits.' },
                    { name: 'Soft Mauve Infinity Scarf', color: '#BFA6A0', desc: 'This gentle mauve infinity scarf drapes elegantly, enhancing neutral undertones with a touch of sophisticated calm and effortless style.' },
                    { name: 'Classic Denim Jacket', color: '#8D8A86', desc: 'A timeless piece in a balanced wash complements your neutral tone, perfect for layering.' },
                ],
                cultural: [
                    { name: 'Batik Parang', color: '#8D8A86', desc: 'Earthy motifs dan muted contrasts (abu-abu/cokelat taupe) merayakan nada seimbang, sempurna untuk keanggunan formal dan sehari-hari.' },
                    { name: 'Kebaya Encim', color: '#CFC7C1', desc: 'Warna-warna netral seperti abu-abu batu dan putih gading pada Kebaya Encim menciptakan kesan bersih dan serbaguna yang cocok dengan tone netral.' },
                ]
            },
        };

        let currentView = 'home';
        let simulationResultKey = 'W-F'; // Default simulation result

        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons(); // Initialize Lucide Icons
            showView(currentView);
            // Simulate initial loading of the first view
            setTimeout(() => {
                document.getElementById('home-view').classList.add('active');
            }, 50);

            // Theme Toggle Logic (Simple Dark/Light Mode)
            document.getElementById('theme-toggle').addEventListener('click', () => {
                const body = document.body;
                const icon = document.querySelector('#theme-toggle i');
                
                if (body.classList.contains('dark')) {
                    // Switch to Light Mode
                    body.classList.remove('dark');
                    body.style.backgroundColor = 'var(--warm-sand)';
                    body.style.color = 'var(--soft-charcoal)';
                    icon.setAttribute('data-lucide', 'sun');
                    icon.classList.remove('text-white');
                    icon.classList.add('text-secondary');
                } else {
                    // Switch to Dark Mode
                    body.classList.add('dark');
                    body.style.backgroundColor = 'var(--soft-charcoal)';
                    body.style.color = 'var(--warm-sand)';
                    icon.setAttribute('data-lucide', 'moon');
                    icon.classList.remove('text-secondary');
                    icon.classList.add('text-white');
                }
                lucide.createIcons(); // Re-render icons
            });
        });

        function showView(viewId) {
            const views = ['home', 'loading', 'results', 'about', 'contact'];
            
            // Handle the transition out
            views.forEach(id => {
                const element = document.getElementById(id + '-view');
                if (element) {
                    element.classList.remove('active');
                    element.classList.add('hidden');
                }
            });

            // Handle the transition in
            setTimeout(() => {
                const newElement = document.getElementById(viewId + '-view');
                if (newElement) {
                    newElement.classList.remove('hidden');
                    // Force reflow/repaint to ensure transition runs
                    void newElement.offsetWidth; 
                    newElement.classList.add('active');
                }
            }, 100);
            
            currentView = viewId;
        }

        function alertCustom(message) {
            document.getElementById('modal-message').textContent = message;
            document.getElementById('custom-modal').classList.remove('hidden');
            document.getElementById('custom-modal').classList.add('flex');
        }

        function handlePhotoUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            // 1. Show Loading State
            showView('loading');

            // 2. Read the file (to display it later)
            const reader = new FileReader();
            reader.onload = (e) => {
                const imageDataUrl = e.target.result;

                // 3. Simulate AI Analysis Delay
                setTimeout(() => {
                    // Randomly select a result for simulation
                    const keys = Object.keys(AI_DATA);
                    // Force Neutral-Female for this specific image
                    simulationResultKey = 'N-F'; 
                    // simulationResultKey = keys[Math.floor(Math.random() * keys.length)]; // Original random selection
                    const data = AI_DATA[simulationResultKey];

                    // 4. Populate Results Page
                    populateResults(data, imageDataUrl);

                    // 5. Show Results View
                    showView('results');
                }, 2000); // 2 seconds simulation delay
            };
            reader.readAsDataURL(file);
        }

        function copyToClipboard(hex) {
            if (hex.startsWith('#')) hex = hex.substring(1);
            
            // Fallback for secure context/iframe
            const tempInput = document.createElement('textarea');
            tempInput.value = hex;
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand('copy');
            document.body.removeChild(tempInput);

            alertCustom(`Kode warna ${hex} berhasil disalin!`);
        }

        function populateResults(data, imageDataUrl) {
            // Update Avatar
            document.getElementById('result-avatar').src = imageDataUrl;

            // Update Key Data
            document.getElementById('result-gender').textContent = data.gender;
            document.getElementById('result-undertone').textContent = data.undertone;
            document.getElementById('result-seasonal').textContent = data.seasonal;
            document.getElementById('result-confidence').textContent = (90 + Math.floor(Math.random() * 9)) + '%'; // Dynamic confidence
            document.getElementById('palette-label').textContent = data.paletteLabel;
            document.getElementById('result-explanation').textContent = data.explanation;

            // Render Palette Swatches
            const swatchesContainer = document.getElementById('color-palette-swatches');
            swatchesContainer.innerHTML = '';
            data.palette.forEach(swatch => {
                const swatchDiv = `
                    <div class="p-3 card-bg transition duration-300 hover:scale-[1.05] cursor-pointer" onclick="copyToClipboard('${swatch.hex}')">
                        <div class="h-12 w-full rounded-lg mb-2 shadow-inner border border-secondary/10" style="background-color: ${swatch.hex};"></div>
                        <p class="text-xs font-semibold text-secondary/90">${swatch.name}</p>
                        <p class="text-xs text-secondary/60">${swatch.hex}</p>
                    </div>
                `;
                swatchesContainer.innerHTML += swatchDiv;
            });

            // Render Fashion Outfits
            const fashionContainer = document.getElementById('fashion-outfits');
            fashionContainer.innerHTML = data.outfits.map((outfit, index) => {
                let imageUrl = `https://placehold.co/420x560/${outfit.color.substring(1)}/${data.gender === 'Female' ? 'F2D7DA' : '69707A'}?text=Modern+Outfit+${index+1}`;
                if (outfit.name === 'Soft Mauve Infinity Scarf') {
                    // Update URL gambar untuk syal dengan tautan gambar baru
                    imageUrl = 'https://i.ibb.co/6y40F7W/muted-mauve-scraft.png';
                }
                return `
                    <div class="card-bg p-6 transition duration-300 hover:shadow-xl hover:scale-[1.01] flex flex-col items-start">
                        <img src="${imageUrl}" alt="${outfit.name}" class="w-full h-auto rounded-xl object-cover mb-4 shadow-md">
                        <div class="flex items-center space-x-2 mb-2">
                            <div class="w-4 h-4 rounded-full" style="background-color: ${outfit.color};"></div>
                            <h3 class="text-lg font-bold text-secondary">${outfit.name}</h3>
                        </div>
                        <p class="text-sm text-secondary/80">${outfit.desc}</p>
                    </div>
                `;
            }).join('');

            // Render Cultural Outfits
            const culturalContainer = document.getElementById('cultural-outfits');
            culturalContainer.innerHTML = data.cultural.map((outfit, index) => `
                <div class="card-bg p-6 transition duration-300 hover:shadow-xl hover:scale-[1.01] flex flex-col items-start">
                    <img src="https://placehold.co/350x450/${outfit.color.substring(1)}/FFFFFF?text=Cultural+Style+${index+1}" alt="${outfit.name}" class="w-full h-auto rounded-xl object-cover mb-4 shadow-md">
                    <div class="flex items-center space-x-2 mb-2">
                        <div class="w-4 h-4 rounded-full" style="background-color: ${outfit.color};"></div>
                        <h3 class="text-lg font-bold text-secondary">${outfit.name}</h3>
                    </div>
                    <p class="text-sm text-secondary/80 italic">${outfit.desc}</p>
                    <button onclick="alertCustom('Simulasi: Mencoba foto lain.')" class="mt-4 text-xs text-luminara-rose hover:underline self-end">
                        Try different photo
                    </button>
                </div>
            `).join('');

            // Render Tips
            const tipsContainer = document.getElementById('tips-list');
            const tips = [
                { icon: 'sun', text: 'Use sunscreen daily to keep your natural tone even.' },
                { icon: 'flask-round', text: 'Match foundation undertone to AI result for seamless base.' },
                { icon: 'lightbulb', text: 'Photograph in natural daylight for most accurate AI reading.' },
                { icon: 'save', text: 'Store palettes and swatches â€” download for later use.' },
            ];
            tipsContainer.innerHTML = tips.map(tip => `
                <div class="card-bg p-6 flex items-start space-x-4">
                    <i data-lucide="${tip.icon}" class="w-6 h-6 text-luminara-rose mt-1 flex-shrink-0"></i>
                    <p class="text-sm text-secondary/90">${tip.text}</p>
                </div>
            `).join('');
            lucide.createIcons(); // Re-render icons after injecting new content
        }
    </script>
</body>
</html>
